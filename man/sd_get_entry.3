.\" Generated by scdoc 1.11.2
.\" Complete documentation for this program is not available as a GNU info page
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.nh
.ad l
.\" Begin generated content:
.TH "sd_get_entry" "3" "2023-02-26"
.P
.SH NAME
sd_get_entry, sd_strip_entry, sd_free_entry - Retrives a dictionary entry for an index
.P
.SH LIBRARY
Libstardict (\fI-lstardict\fR)
.P
.SH SYNOPSIS
\fB#include <libstardict.\&h>\fR
.P
\fBstruct sd_entry *sd_get_entry(struct sd_dict \fR\fI*dict\fR\fB, unsigned int \fR\fIidx\fR\fB);\fR
.P
\fBint sd_strip_entry(struct sd_entry \fR\fI*entry\fR\fB);\fR
.P
\fBvoid sd_free_entry(struct sd_entry \fR\fI*entry\fR\fB);\fR
.P
.SH DESCRIPTION
.P
\fBsd_get_entry()\fR
.RS 4
The \fBsd_get_entry\fR() returns a dictionary entry (a translation) for a
given index (a key).\&
.P
.RE
.nf
.RS 4
struct sd_entry {
	char fmt;
	char data[];
};
.fi
.RE
.P
.RS 4
See sd_open_dict(3) for the description of the \fIfmt\fR.\& If the data holds
a textual information the string is null terminated.\&
.P
.RE
\fBsd_strip_entry()\fR
.RS 4
The \fBsd_strip_entry\fR() strips any text formatting (e.\&g.\& HTML tags) from
textual entries.\&
.P
.RE
\fBsd_free_entry()\fR
.RS 4
The \fBsd_free_entry\fR() frees the data previously returned by
\fBsd_get_entry\fR().\& The call is no-op for \fINULL\fR entry.\&
.P
.RE
.SH RETURN VALUE
.P
Upon succesful completion \fBsd_get_entry\fR() returns newly allocated \fIstruct
sd_entry\fR.\& If index is out of dictionary index or if allocation failed \fINULL\fR
is returned.\&
.P
The \fBsd_strip_entry\fR() returns non-zero if the entry was in or was converted to
UTF8 plaintext.\&
.P
.SH EXAMPLES
.P
.nf
.RS 4
#include <stdio\&.h>
#include <libstardict\&.h>

static void print_entry(struct sd_dict *dict, unsigned int idx)
{
	struct sd_entry *entry;

	entry = sd_get_entry(dict, idx);
	if (!entry) {
		printf("Failed to read entry idx=%u\\n", idx);
		return;
	}

	printf("Key: %s\\n", sd_idx_to_word(dict, idx));
	if (sd_strip_entry(entry))
		printf("%s\\n", entry->data);

	sd_free_entry(entry);
}
.fi
.RE
.P
.SH SEE ALSO
\fBsd_open_dict\fR(3), \fBsd_lookup\fR(3)
